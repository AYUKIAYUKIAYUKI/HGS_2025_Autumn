//============================================================================
// 
// シーンマネージャー [scene_manager.cpp]
// Author : 福田歩希
// 
//============================================================================

//****************************************************
// インクルードファイル
//****************************************************
#include "scene_manager.h"

// 初期化用のシーン
#include "title.h"

//****************************************************
// 名前空間usefulを定義
//****************************************************
using namespace useful;

//============================================================================
// 
// publicメンバ
// 
//============================================================================

//============================================================================
// シーン変更
//============================================================================
void CSceneManager::ChangeScene(up<CScene>&& upScene)
{
	// 引数の異常
	if (!upScene)
	{
		throw std::runtime_error("'ChangeScene' was Failed");
	}

	// 新しいシーンをセット
	m_upScene = std::move(upScene);
}

//============================================================================
// 
// privateメンバ
// 
//============================================================================

//============================================================================
// デフォルトコンストラクタ
//============================================================================
CSceneManager::CSceneManager() :
	m_upScene(nullptr)
{}

//============================================================================
// デストラクタ
//============================================================================
CSceneManager::~CSceneManager()
{}

//============================================================================
// 初期化処理
//============================================================================
bool CSceneManager::Initialize()
{
	// 最初のシーン生成
	up<CTitle> upInitScene = CreateUniquePtr<CTitle>();

	// 生成失敗
	if (!upInitScene)
	{
		return false;
	}

	m_upScene = std::move(upInitScene);

	return true;
}

//============================================================================
// 終了処理
//============================================================================
void CSceneManager::Finalize()
{}